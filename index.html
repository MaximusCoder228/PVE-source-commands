<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Гайд по настройке ИТ-инфраструктуры</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Гайд по настройке ИТ-инфраструктуры</h1>
        <nav>
            <a href="#glossary">Глоссарий</a>
            <a href="#stage1">Базовая настройка</a>
            <a href="#stage2">Коммутация</a>
            <a href="#stage3">Маршрутизация</a>
            <a href="#stage4">Туннели</a>
            <a href="#stage5">Доступ в Интернет</a>
            <a href="#stage6">Синхронизация времени</a>
            <a href="#stage7">DNS</a>
            <a href="#stage8">Центр сертификации</a>
            <a href="#stage9">База данных</a>
            <a href="#stage10">Хранилище</a>
            <a href="#stage11">Active Directory</a>
            <a href="#stage12">Мониторинг</a>
            <a href="#stage13">VoIP</a>
        </nav>
    </header>

    <main>
        <section id="introduction">
            <h2>Описание</h2>
            <p>Этот сайт содержит подробные гайды по настройке различных компонентов типичной ИТ-инфраструктуры, включая маршрутизацию, коммутацию, DNS, Active Directory, системы хранения, мониторинг и VoIP. Инструкции разбиты по этапам, соответствующим задачам из технического задания.</p>
            <p>Навигация по гайдам осуществляется через меню выше или через оглавление ниже.</p>
        </section>

        <section id="glossary">
            <h2>Глоссарий терминов</h2>
            <table>
                <thead>
                    <tr>
                        <th>Термин</th>
                        <th>Пояснение</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>FQDN (Fully Qualified Domain Name)</td>
                        <td>Полное имя хоста, включающее все части домена (например, rtr-cod.cod.ssa2026.region).</td>
                    </tr>
                    <tr>
                        <td>RADIUS (Remote Authentication Dial-In User Service)</td>
                        <td>Протокол для централизованной аутентификации, авторизации и учета.</td>
                    </tr>
                    <tr>
                        <td>NTP (Network Time Protocol)</td>
                        <td>Протокол для синхронизации времени между устройствами.</td>
                    </tr>
                    <tr>
                        <td>VLAN (Virtual Local Area Network)</td>
                        <td>Логическое разделение физической сети.</td>
                    </tr>
                    <tr>
                        <td>Trunk / Access</td>
                        <td>Типы портов коммутатора. Trunk передает трафик нескольких VLAN, Access — одной.</td>
                    </tr>
                    <tr>
                        <td>Native VLAN</td>
                        <td>VLAN, которая передается по trunk-порту без тега.</td>
                    </tr>
                    <tr>
                        <td>Aggregation (bonding, LACP)</td>
                        <td>Объединение нескольких физических каналов в один логический. active-backup — резервирование.</td>
                    </tr>
                    <tr>
                        <td>STP (Spanning Tree Protocol)</td>
                        <td>Протокол для предотвращения петель в сети.</td>
                    </tr>
                    <tr>
                        <td>802.1w (RSTP)</td>
                        <td>Улучшенная версия STP.</td>
                    </tr>
                    <tr>
                        <td>BGP (Border Gateway Protocol)</td>
                        <td>Протокол маршрутизации между автономными системами.</td>
                    </tr>
                    <tr>
                        <td>OSPF (Open Shortest Path First)</td>
                        <td>Протокол маршрутизации внутри AS.</td>
                    </tr>
                    <tr>
                        <td>GRE (Generic Routing Encapsulation)</td>
                        <td>Протокол туннелирования.</td>
                    </tr>
                    <tr>
                        <td>DNS (Domain Name System)</td>
                        <td>Система разрешения имен.</td>
                    </tr>
                    <tr>
                        <td>A/AAAA/PTR Records</td>
                        <td>Типы DNS-записей. A — имя -> IPv4, PTR — IPv4 -> имя.</td>
                    </tr>
                    <tr>
                        <td>Forwarder (переадресатор)</td>
                        <td>DNS-сервер, на который направляются запросы, которые не могут быть разрешены локально.</td>
                    </tr>
                    <tr>
                        <td>Forwarding Rules</td>
                        <td>Правила перенаправления запросов для конкретных зон на другие DNS-серверы.</td>
                    </tr>
                    <tr>
                        <td>CA (Certificate Authority)</td>
                        <td>Центр сертификации.</td>
                    </tr>
                    <tr>
                        <td>PostgreSQL</td>
                        <td>Система управления базами данных.</td>
                    </tr>
                    <tr>
                        <td>iSCSI</td>
                        <td>Протокол для подключения удаленных дисков.</td>
                    </tr>
                    <tr>
                        <td>Target / Initiator</td>
                        <td>Устройство, предоставляющее iSCSI-диск (Target) и устройство, подключающееся к нему (Initiator).</td>
                    </tr>
                    <tr>
                        <td>LVM (Logical Volume Manager)</td>
                        <td>Управление дисками через логические тома.</td>
                    </tr>
                    <tr>
                        <td>PV / VG / LV</td>
                        <td>Physical Volume, Volume Group, Logical Volume в LVM.</td>
                    </tr>
                    <tr>
                        <td>NFS (Network File System)</td>
                        <td>Протокол сетевого доступа к файлам.</td>
                    </tr>
                    <tr>
                        <td>Export</td>
                        <td>Директория, доступная через NFS.</td>
                    </tr>
                    <tr>
                        <td>AD (Active Directory)</td>
                        <td>Служба каталогов Microsoft (реализована в Samba AD).</td>
                    </tr>
                    <tr>
                        <td>DC (Domain Controller)</td>
                        <td>Контроллер домена.</td>
                    </tr>
                    <tr>
                        <td>Samba AD</td>
                        <td>Реализация Active Directory на базе Samba для Linux.</td>
                    </tr>
                    <tr>
                        <td>BIND9_DLZ</td>
                        <td>Встроенный DNS-движок в Samba AD.</td>
                    </tr>
                    <tr>
                        <td>OU (Organizational Unit)</td>
                        <td>Подразделение в AD.</td>
                    </tr>
                    <tr>
                        <td>GPO (Group Policy Object)</td>
                        <td>Объект групповой политики.</td>
                    </tr>
                    <tr>
                        <td>Zabbix</td>
                        <td>Система мониторинга.</td>
                    </tr>
                    <tr>
                        <td>VoIP (Voice over IP)</td>
                        <td>Технология передачи голоса по IP-сети.</td>
                    </tr>
                    <tr>
                        <td>SIP (Session Initiation Protocol)</td>
                        <td>Протокол для установки VoIP-сессий.</td>
                    </tr>
                    <tr>
                        <td>SNG7-PBX</td>
                        <td>Конкретная система IP-телефонии.</td>
                    </tr>
                    <tr>
                        <td>SoftPhone</td>
                        <td>Программа для совершения звонков с ПК.</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 1: Базовая настройка -->
        <section id="stage1">
            <h2>Этап 1: Базовая настройка</h2>
            <p>Настройка имен хостов и административного доступа.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Настройте имена устройств</td>
                        <td><code>sudo hostnamectl set-hostname &lt;имя&gt;.cod.ssa2026.region</code> (для ЦОД), <code>sudo hostnamectl set-hostname &lt;имя&gt;.office.ssa2026.region</code> (для офиса a)</td>
                        <td>Изменение FQDN для устройств в ЦОД (например, rtr-cod.cod.ssa2026.region) и офисе a (например, dc-a.office.ssa2026.region).</td>
                        <td>Все устройства ЦОД и офиса a</td>
                    </tr>
                    <tr>
                        <td>2. Настройте административный доступ (RADIUS)</td>
                        <td><strong>На rtr-cod:</strong> Установить radcli (<code>opkg install radcli</code>), настроить CLI (<code>radius-server host srv1-cod key P@ssw0rd</code>, <code>aaa ...</code>). <strong>На srv1-cod:</strong> Установить и настроить FreeRADIUS (пользователь netuser, пароль P@ssw0rd, привилегия 15). Проверить, что netuser не существует локально на rtr-cod.</td>
                        <td>Централизованная аутентификация через RADIUS-сервер srv1-cod для rtr-cod, sw1-cod, sw2-cod. Пользователь netuser должен иметь права конфигурировать маршрутизатор.</td>
                        <td>rtr-cod, srv1-cod</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 2: Коммутация -->
        <section id="stage2">
            <h2>Этап 2: Коммутация</h2>
            <p>Настройка VLAN, агрегации каналов и STP.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Сконфигурируйте коммутаторы (VLAN, Trunk, IP-адреса)</td>
                        <td><strong>VLAN/Trunk:</strong> Создать VLAN-интерфейсы, добавить в бриджи. <strong>IP:</strong> <code>sudo ip addr add 10.0.3.10/24 dev br-mgmt</code> (sw1-cod), <code>sudo ip addr add 10.0.3.110/24 dev br-mgmt</code> (sw1-a). <strong>Native VLAN:</strong> Настроить порт как Trunk с Native VLAN 300. <strong>Запрет маршрутизации DATA:</strong> Убедиться, что бридж для VLAN 200 не имеет IP.</td>
                        <td>Настройка портов как Trunk/Access, IP управления, Native VLAN, запрет маршрутизации DATA.</td>
                        <td>sw1-cod, sw2-cod, sw1-a, sw2-a</td>
                    </tr>
                    <tr>
                        <td>2. Настройте агрегацию между sw1-cod и sw2-cod</td>
                        <td><code>sudo modprobe bonding...</code>, <code>sudo ip link add bond0...</code>, <code>sudo ip link set eth3 master bond0</code>, <code>sudo ip link set eth4 master bond0</code>, <code>sudo brctl addif br-mgmt bond0</code>.</td>
                        <td>Объединение физических портов eth3 и eth4 в логический канал bond0 с резервированием. Добавление bond0 в бридж управления.</td>
                        <td>sw1-cod, sw2-cod</td>
                    </tr>
                    <tr>
                        <td>3. Настройте протокол STP на sw1-a и sw2-a</td>
                        <td><code>sudo brctl stp br-data on</code>, <code>sudo brctl setbridgeprio br-data 8192</code> (на sw1-a), использовать 802.1w (обычно по умолчанию).</td>
                        <td>Включить STP, установить приоритет, использовать RSTP.</td>
                        <td>sw1-a, sw2-a</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 3: Маршрутизация -->
        <section id="stage3">
            <h2>Этап 3: Маршрутизация</h2>
            <p>Настройка BGP, OSPF.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Настройте BGP с GIGAFON COD</td>
                        <td><strong>Установка FRR:</strong> <code>opkg install frr...</code> (rtr-cod). <strong>Конфиг BGP:</strong> В /etc/frr/bgpd.conf: <code>router bgp 64500</code>, <code>neighbor 178.207.179.1 remote-as 31133</code>, <code>address-family ipv4 unicast</code>, <code>neighbor 178.207.179.1 default-originate</code>, <code>exit-address-family</code>. <strong>Фильтр:</strong> <code>ip prefix-list INTERNAL...</code>, <code>route-map BLOCK_INTERNAL...</code>, <code>neighbor ... route-map BLOCK_INTERNAL out</code>.</td>
                        <td>Настройка BGP-сессии с AS 31133 (GIGAFON). default-originate для получения маршрута по умолчанию. Блокировка анонсов внутренних сетей.</td>
                        <td>rtr-cod</td>
                    </tr>
                    <tr>
                        <td>2. Настройте OSPF между rtr-cod, rtr-a, fw-cod</td>
                        <td><strong>Конфиг OSPF:</strong> В /etc/frr/ospfd.conf: <code>router ospf</code>, <code>ospf router-id &lt;IP&gt;</code>, <code>network &lt;сеть&gt; area 0</code>. <strong>Пассивный режим:</strong> <code>passive-interface ethY</code>. <strong>Аутентификация:</strong> <code>area 0 authentication message-digest</code>, <code>interface ethX</code>, <code>ip ospf message-digest-key 1 md5 P@ssw0rd</code>.</td>
                        <td>Настройка OSPF в области 0, перевод интерфейсов в пассивный режим (кроме туннельного), аутентификация MD5.</td>
                        <td>rtr-cod, rtr-a, fw-cod</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 4: Туннели -->
        <section id="stage4">
            <h2>Этап 4: Туннели</h2>
            <p>Настройка GRE туннеля между офисом "а" и "cod".</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Настройте GRE туннель между rtr-a и rtr-cod</td>
                        <td><strong>На rtr-a:</strong> <code>sudo ip tunnel add gre1 mode gre remote 10.10.10.2 local 10.10.10.1 ttl 255</code>, <code>sudo ip link set gre1 up</code>, <code>sudo ip addr add 10.10.10.1/30 dev gre1</code>. <strong>На rtr-cod:</strong> <code>sudo ip tunnel add gre1 mode gre remote 10.10.10.1 local 10.10.10.2 ttl 255</code>, <code>sudo ip link set gre1 up</code>, <code>sudo ip addr add 10.10.10.2/30 dev gre1</code>.</td>
                        <td>Создание виртуального канала GRE в сети 10.10.10.0/24. Используется маска /30 для туннельных интерфейсов.</td>
                        <td>rtr-a, rtr-cod</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 5: Доступ в Интернет -->
        <section id="stage5">
            <h2>Этап 5: Доступ в Интернет</h2>
            <p>Настройка маршрутизаторов для обеспечения доступа в Интернет.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Настройка доступа в Интернет</td>
                        <td>Убедиться, что маршрут по умолчанию (0.0.0.0/0) получен через BGP на rtr-cod.</td>
                        <td>Доступ в интернет обеспечивается через rtr-cod, который получает маршрут по умолчанию от провайдера GIGAFON.</td>
                        <td>rtr-cod</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 6: Синхронизация времени -->
        <section id="stage6">
            <h2>Этап 6: Синхронизация времени</h2>
            <p>Настройка синхронизации времени между сетевыми устройствами.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Синхронизация времени</td>
                        <td><code>sudo timedatectl set-ntp true</code> или настроить chrony вручную (<code>server 100.100.100.100</code>).</td>
                        <td>Синхронизация времени с сервером 100.100.100.100.</td>
                        <td>Все устройства</td>
                    </tr>
                    <tr>
                        <td>2. Часовой пояс</td>
                        <td><code>sudo timedatectl set-timezone Europe/Moscow</code></td>
                        <td>Установка московского часового пояса.</td>
                        <td>Все устройства</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 7: DNS -->
        <section id="stage7">
            <h2>Этап 7: DNS</h2>
            <p>Настройка службы доменных имен.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <th>Пояснение</th>
                        <th>Где выполнять</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Основной DNS для cod</td>
                        <td><strong>Установка:</strong> <code>sudo apt install bind9</code> (srv1-cod). <strong>Зоны:</strong> Создать файлы db.cod.ssa2026.region, db.1.0.10 и т.д. с A и PTR записями. <strong>Конфиг:</strong> Добавить зоны в named.conf.local.</td>
                        <td>Создание прямых и обратных записей для устройств ЦОД на srv1-cod.</td>
                        <td>srv1-cod</td>
                    </tr>
                    <tr>
                        <td>2. Основной DNS для a</td>
                        <td><strong>Установка:</strong> <code>sudo apt install bind9</code> (dc-a). <strong>Зоны:</strong> Создать файлы db.office.ssa2026.region, db.2.0.10 и т.д. с A и PTR записями. <strong>Конфиг:</strong> Добавить зоны в named.conf.local.</td>
                        <td>Создание прямых и обратных записей для устройств офиса a на dc-a.</td>
                        <td>dc-a</td>
                    </tr>
                    <tr>
                        <td>3. Переадресация</td>
                        <td>В named.conf.options: <code>options { forwarders { 100.100.100.100; }; };</code></td>
                        <td>Запрашиваемые имена, которые не могут быть разрешены локально, будут отправлены на 100.100.100.100.</td>
                        <td>srv1-cod, dc-a</td>
                    </tr>
                    <tr>
                        <td>4. Настройка DNS-серверов</td>
                        <td>В /etc/resolv.conf: <code>nameserver 10.0.1.1</code> (ЦОД), <code>nameserver 10.0.1.100</code> (офис a).</td>
                        <td>Устройства ЦОД используют srv1-cod, офис a - dc-a.</td>
                        <td>Все устройства (ЦОД и офис a)</td>
                    </tr>
                    <tr>
                        <td>5. Перенаправление между DNS</td>
                        <td><strong>На srv1-cod:</strong> В named.conf.options: <code>zone "office.ssa2026.region" { type forward; forward only; forwarders { 10.0.1.100; }; };</code>. <strong>На dc-a:</strong> В named.conf.options: <code>zone "cod.ssa2026.region" { type forward; forward only; forwarders { 10.0.1.1; }; };</code>.</td>
                        <td>srv1-cod перенаправляет запросы к office.ssa2026.region на dc-a. dc-a перенаправляет запросы к cod.ssa2026.region на srv1-cod.</td>
                        <td>srv1-cod, dc-a</td>
                    </tr>
                    <tr>
                        <td>6. Доступность по имени</td>
                        <td>Тестирование: <code>nslookup</code>, <code>dig</code> с именами устройств.</td>
                        <td>Проверка, что все устройства доступны по имени.</td>
                        <td>Любое устройство</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 8: Центр сертификации -->
        <section id="stage8">
            <h2>Этап 8: Центр сертификации</h2>
            <p>Настройка CA.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <td>Пояснение</td>
                        <td>Где выполнять</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Разверните центр сертификации</td>
                        <td><code>sudo apt install openssl</code>; <code>sudo mkdir -p /var/ca/{certs,crl,newcerts,private}</code>; <code>sudo touch /var/ca/index.txt</code>; <code>echo 1000 | sudo tee /var/ca/serial</code>; <code>sudo nano /var/ca/ca.conf</code> (настроить); <code>sudo openssl genrsa -out /var/ca/private/cakey.pem 4096</code>; <code>sudo openssl req -config /var/ca/ca.conf -new -x509 -days 1825 -key /var/ca/private/cakey.pem -out /var/ca/certs/cacert.pem</code>.</td>
                        <td>Создание структуры, конфига, ключа и самоподписанного корневого сертификата на 5 лет (1825 дней) в /var/ca.</td>
                        <td>srv1-cod</td>
                    </tr>
                    <tr>
                        <td>2. Доверие CA на рабочих станциях</td>
                        <td>Скопировать <code>cacert.pem</code> на cli-cod, cli1-a, cli2-a, admin-cod. Затем: <code>sudo cp cacert.pem /usr/local/share/ca-certificates/ssa2026.crt</code>, <code>sudo update-ca-certificates</code>.</td>
                        <td>Добавляем корневой сертификат в доверенные.</td>
                        <td>cli-cod, cli1-a, cli2-a, admin-cod</td>
                    </tr>
                    <tr>
                        <td>3. Использование CA</td>
                        <td>(Пример: выпуск сертификата для Zabbix)</td>
                        <td>CA будет использоваться для подписи сертификатов, например, для HTTPS веб-интерфейса Zabbix.</td>
                        <td>srv1-cod (при настройке Zabbix)</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 9: База данных -->
        <section id="stage9">
            <h2>Этап 9: База данных</h2>
            <p>Настройка PostgreSQL.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <td>Пояснение</td>
                        <td>Где выполнять</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. В качестве сервера баз данных используйте srv2-cod</td>
                        <td><strong>Установка:</strong> <code>sudo apt install postgresql-17</code>. <strong>Запуск:</strong> <code>sudo systemctl start postgresql</code>, <code>sudo systemctl enable postgresql</code>.</td>
                        <td>Устанавливаем PostgreSQL версии 17+, запускаем и включаем автозапуск.</td>
                        <td>srv2-cod</td>
                    </tr>
                    <tr>
                        <td>1c. Создайте суперпользователя superadmin</td>
                        <td><code>sudo -u postgres psql -c "CREATE USER superadmin WITH SUPERUSER PASSWORD 'P@ssw0rdSQL';"</code></td>
                        <td>Создаем нового суперпользователя с указанным паролем.</td>
                        <td>srv2-cod</td>
                    </tr>
                    <tr>
                        <td>2. Для администрирования используйте admin-cod</td>
                        <td><strong>Установка DBeaver:</strong> <code>sudo apt install dbeaver-ce</code> (admin-cod). <strong>Настройка подключения:</strong> Указать хост srv2-cod, порт 5432, имя пользователя superadmin, пароль P@ssw0rdSQL.</td>
                        <td>Устанавливаем клиент DBeaver на admin-cod и подключаемся к srv2-cod.</td>
                        <td>admin-cod</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 10: Хранилище -->
        <section id="stage10">
            <h2>Этап 10: Хранилище</h2>
            <p>Настройка iSCSI, LVM, NFS.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <td>Пояснение</td>
                        <td>Где выполнять</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Используйте хост srv2-cod</td>
                        <td><strong>VLAN DATA:</strong> <code>sudo ip link add link eth0 name eth0.200 type vlan id 200</code>, <code>sudo ip addr add 10.0.2.202/24 dev eth0.200</code>. <strong>iSCSI Target:</strong> <code>sudo apt install targetcli-fb</code>; <code>sudo targetcli /backstores/block create data_block /dev/&lt;disk&gt;</code>; <code>sudo targetcli /iscsi create iqn.2026-01.region.ssa2026.cod:data.target</code>; <code>sudo targetcli /iscsi/.../luns create /backstores/block/data_block</code>; <code>sudo targetcli /iscsi/.../acls create iqn.2026-01.region.ssa2026.cod:iscsi</code>; <code>sudo targetcli saveconfig</code>.</td>
                        <td>Настройка VLAN DATA, установка targetcli, создание iSCSI target с именем iqn.2026-01..., привязка диска, настройка ACL.</td>
                        <td>srv2-cod</td>
                    </tr>
                    <tr>
                        <td>2. Используйте хост srv1-cod</td>
                        <td><strong>iSCSI Initiator:</strong> <code>sudo apt install open-iscsi</code>; <code>sudo nano /etc/iscsi/initiatorname.iscsi</code> (установить <code>InitiatorName=iqn.2026-01.region.ssa2026.cod:iscsi</code>); <code>sudo iscsiadm -m discovery...</code>; <code>sudo iscsiadm -m node... -l</code>. <strong>LVM:</strong> <code>sudo pvcreate /dev/&lt;новый_диск&gt;</code>; <code>sudo vgcreate VG /dev/&lt;новый_диск&gt;</code>; <code>sudo lvcreate -l 100%FREE -n DATA VG</code>; <code>sudo mkfs.xfs /dev/VG/DATA</code>; <code>sudo mkdir -p /opt/data</code>; <code>sudo nano /etc/fstab</code> (добавить строку монтирования); <code>sudo mount /opt/data</code>. <strong>NFS:</strong> <code>sudo apt install nfs-kernel-server</code>; <code>sudo nano /etc/exports</code> (экспорт /opt/data); <code>sudo exportfs -ra</code>; <code>sudo systemctl restart nfs-server</code>.</td>
                        <td>Установка open-iscsi, настройка initiator, подключение к target, создание LVM (PV, VG, LV), форматирование XFS, монтирование, настройка автомонтирования, установка NFS-сервера, экспорт директории.</td>
                        <td>srv1-cod</td>
                    </tr>
                    <tr>
                        <td>3. Настройте автомонтирование NFS на admin-cod</td>
                        <td><code>sudo mkdir -p /mnt/nfs</code>; <code>sudo nano /etc/fstab</code> (добавить <code>srv1-cod.cod.ssa2026.region:/opt/data /mnt/nfs nfs defaults 0 0</code>); <code>sudo mount /mnt/nfs</code>.</td>
                        <td>Автомонтирование экспортированной директории NFS.</td>
                        <td>admin-cod</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 11: Active Directory -->
        <section id="stage11">
            <h2>Этап 11: Active Directory</h2>
            <p>Настройка Samba AD.</p>
            <table>
                <thead>
                    <tr>
                        <th>Задача</th>
                        <th>Команда / Действие</th>
                        <td>Пояснение</td>
                        <td>Где выполнять</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1. Разверните контроллер домена</td>
                        <td><code>sudo apt install samba samba-common-bin...</code> (dc-a); <code>sudo samba-tool domain provision --realm=office.ssa2026.region --domain=OFFICE --adminpass=P@ssw0rd --server-role=dc --dns-backend=BIND9_DLZ</code>; <code>sudo systemctl disable smbd nmbd</code>; <code>sudo systemctl enable samba-ad-dc</code>; <code>sudo systemctl start samba-ad-dc</code>.</td>
                        <td>Установка Samba, создание домена OFFICE с realm office.ssa2026.region, паролем P@ssw0rd, роль DC, DNS backend BIND9_DLZ. Отключение старых служб, включение новой.</td>
                        <td>dc-a</td>
                    </tr>
                    <tr>
                        <td>2. Управление контроллером домена</td>
                        <td>Установить ADMC (например, через flatpak/snap/apt) на cli1-a.</td>
                        <td>Инструмент для управления AD.</td>
                        <td>cli1-a</td>
                    </tr>
                    <tr>
                        <td>3. Создайте подразделения, группы и пользователей</td>
                        <td>Через <code>samba-tool</code> или <code>admc</code>: <code>samba-tool ou create "OU=ofadmins..."</code>; <code>samba-tool group add ofadmins...</code>; <code>samba-tool user create ofadmin1 P@ssw0rd...</code>; <code>samba-tool user move...</code>; <code>samba-tool group addmembers...</code>.</td>
                        <td>Создание OU, групп, пользователей, помещение их в OU и добавление в группы (user1 - только в OU).</td>
                        <td>dc-a (или через admc)</td>
                    </tr>
                    <tr>
                        <td>4. Настройте политику GPO</td>
                        <td>(Через admc на cli1-a)</td>
                        <td>Создать GPO, привязать к OU 'ofusers'. Настроить: запрет изменения сетевых настроек, запрет изменения параметров рабочего стола, установка фонового изображения.</td>
                        <td>cli1-a (через admc -> dc-a)</td>
                    </tr>
                    <tr>
                        <td>5. Введите cli1-a и cli2-a в домен</td>
                        <td><code>sudo realm join OFFICE.SSA2026.REGION -U administrator</code> (вводим P@ssw0rd).</td>
                        <td>Присоединение к домену.</td>
                        <td>cli1-a, cli2-a</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Секция 12: Мониторинг -->
        <section id="stage12">
            <h2>Этап 12: Мониторинг</h2>
            <p>Настройка Zabbix.</p>
            <p>(Секция будет заполнена аналогично предыдущим этапам, когда вы выполните настройку Zabbix)</p>
        </section>

        <!-- Секция 13: VoIP -->
        <section id="stage13">
            <h2>Этап 13: VoIP</h2>
            <p>Настройка SNG7-PBX.</p>
            <p>(Секция будет заполнена аналогично предыдущим этапам, когда вы выполните настройку VoIP)</p>
        </section>

    </main>

    <footer>
        <h3>Полезные ссылки</h3>
        <ul>
            <li><a href="https://www.kernel.org/doc/Documentation/networking/bonding.txt" target="_blank">Linux Bonding Driver Documentation</a></li>
            <li><a href="https://lartc.org/howto/" target="_blank">Linux Advanced Routing & Traffic Control HOWTO</a></li>
            <li><a href="https://docs.frrouting.org/en/latest/" target="_blank">FRRouting Documentation</a></li>
            <li><a href="https://wiki.samba.org/index.php/Samba_AD_DC_HOWTO_(Russian)" target="_blank">Samba AD DC HOWTO (Russian)</a></li>
            <li><a href="https://kb.ispsystem.ru/articles/dns/konfiguracija-sistemy-bind9" target="_blank">BIND9 Documentation (RU)</a></li>
            <li><a href="https://postgrespro.ru/docs/postgresql/17" target="_blank">PostgreSQL Documentation (RU)</a></li>
            <li><a href="https://help.ubuntu.ru/wiki/nfs" target="_blank">NFS Server Setup (RU)</a></li>
            <li><a href="https://jamielinux.com/docs/openssl-certificate-authority/" target="_blank">OpenSSL Certificate Authority</a></li>
            <li><a href="https://zabbix.com/documentation/current/manual/installation" target="_blank">Zabbix Installation Manual</a></li>
            <li><a href="https://ecorouter.ru/documentation/" target="_blank">EcoRouterOS Documentation</a></li>
        </ul>
    </footer>

</body>
</html>